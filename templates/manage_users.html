{% extends "base.html" %}

{% block content %}
<div class="admin-container">
    <h1>Manage Users</h1>
    <table class="user-table">
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Mobile</th>
            <th>Address</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.mobile }}</td>
            <td>{{ user.address }}</td>
            <td>
                {% if user.is_being_edited %}
                    <span class="being-edited">Being edited by {{ user.edited_by }}</span>
                {% else %}
                    <span class="available">Available</span>
                {% endif %}
            </td>
            <td>
                {% if not user.is_being_edited %}
                    <a href="{{ url_for('edit_user', user_id=user.id) }}" class="edit-button">Edit</a>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}